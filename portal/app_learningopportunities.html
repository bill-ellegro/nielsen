<!DOCTYPE html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8" />

	<!-- Set the viewport width to device width for mobile -->
	<meta name="viewport" content="width=device-width" />

	<title>Nielsen Portal Program Stack Landing</title>

	<!-- Included CSS Files (Uncompressed) -->
	<!--
	<link rel="stylesheet" href="stylesheets/foundation.css">
	-->

	<!-- Included CSS Files (Compressed) -->
	<link rel="stylesheet" href="stylesheets/foundation.min.css">

	<!-- FONTS + APP CSS -->
	<link href="stylesheets/ui-lightness/jquery-ui-1.10.3.custom.css" rel="stylesheet">
	<!-- <link rel="stylesheet" type="text/css" href="stylesheets/MyFontsWebfontsKit.css"> -->
	<link rel="stylesheet" href="stylesheets/elsmaster.css">
	<link rel="stylesheet" href="stylesheets/program-stack.css">
	<link rel="stylesheet" href="stylesheets/stacks.css">

	<!-- App CSS -->
	<link rel="stylesheet" href="stylesheets/app.css">

	<script src="javascripts/modernizr.foundation.js"></script>
</head>
<body>

	<div class="row headerrow">
		<div class="twelve columns">
			<div class="headline"><span class="neilsenlogo"><img src="images/nielsen_logo.png"></span>MY LEARNING NETWORK</div>
		</div>	<!-- /.twelve.columns -->
	</div>	<!-- /.row.headerrow -->

	<div class="row navrow">
		<div class="twelve columns">
			<a class="navtitles" href="app_homepage.html">HOME</a>
			<a class="navtitles active" href="app_learningopportunities.html">LEARNING OPPORTUNITIES</a>
			<a class="navtitles" href="app_myprofile.html">MY PROFILE</a>
			<a class="navtitles" href="#">DISCUSSIONS</a>		
		</div>	<!-- /.twelve.columns -->
	</div>	<!-- /.row.navrow -->

	<div class="row welcomerow">
		<div class="twelve columns mobile-four">
			<div class="welcometitle">
				<span id="welcomeid">WELCOME ANDREW</span><span style="margin:0px 23px;">|</span><span id="profileid">YOUR PROFILE</span>

				<div class="profilemeter">
					<div class="welcomeprofile">
						<div id="profilepercent" style="width:54%">54%</div>
					</div>	<!-- /.welcomeprofile -->
				</div>	<!-- /.profilemeter -->

				<span style="margin:0px 23px;">|</span>

				<div class="searchcontainer">
					<input type="text" placeholder="search" style="display:inline; width:160px; font-size:12px; height:18px; margin:0px; padding:0px 2px; background-color:#000; color:#f1f1f1; text-transform:uppercase; background: url('images/search.png') no-repeat right;">
				</div>	<!-- /.searchcontainer -->
			</div>	<!-- /.welcometitle -->
		</div>	<!-- /.twelve.columns.mobile-four -->
	</div>	<!-- /.row.welcomerow -->

	<div class="stackstateview" id="AllStacksView">
		<div class="row title-row">
			<div class="one columns container-catalog">
				<p><img src="images/btn-catalog.png" alt="Catalog"/></p>
			</div>	<!-- /.one.columns.viewcontainer -->

			<div class="eight columns container-title">
				<h1>Learning Opportunities</h1>
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis justo ac turpis ornare blandit. Pellentesque convallis a elit vel luctus. Cras non tellus sed arcu lacinia vestibulum quis tincidunt lorem. Sed non lobortis sapien, a commodo urna. Phasellus et facilisis lorem. Suspendisse ac lorem ac tortor porta congue eget sit amet tortor. In varius ut nunc eget placerat. Nam quis nisi venenatis risus varius pharetra non eu quam.</p>
			</div>	<!-- /.eight.columns.viewcontainer -->

			<div class="three columns container-actions">
				
			</div>	<!-- /.three.columns.action-container -->
		</div>	<!-- /.row.title-row -->

		<div class="row content-row">
			<div id="cardscontainer">
				<div class="three columns">
					<div class="programstack landing cf">
						<div class="alert"></div>

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link num-content"><a href="#" data-reveal-id="results"># of Content</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link created"><a href="#">Created</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link upcoming"><a href="#">Upcoming Actions</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link updates"><a href="#">Updates</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row title-row">
							<div class="twelve columns">
								<h3>Content Title</h3>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.title-row -->
					</div>	<!-- /.programstack.landing.cf -->
				</div>	<!-- /.three.columns -->

				<div class="three columns">
					<div class="programstack landing cf">
						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link num-content"><a href="#" data-reveal-id="program1"># of Content</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link created"><a href="#">Created</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link upcoming"><a href="#">Upcoming Actions</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link updates"><a href="#">Updates</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row title-row">
							<div class="twelve columns">
								<h3>Content Title</h3>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.title-row -->
					</div>	<!-- /.programstack.landing.cf -->
				</div>	<!-- /.three.columns -->

				<div class="three columns">
					<div class="programstack landing cf">
						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link num-content"><a href="#"># of Content</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link created"><a href="#">Created</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link upcoming"><a href="#">Upcoming Actions</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link updates"><a href="#">Updates</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row title-row">
							<div class="twelve columns">
								<h3>Content Title</h3>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.title-row -->
					</div>	<!-- /.programstack.landing.cf -->
				</div>	<!-- /.three.columns -->

				<div class="three columns">
					<div class="programstack landing cf">
						<div class="alert"></div>

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link num-content"><a href="#"># of Content</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link created"><a href="#">Created</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link upcoming"><a href="#">Upcoming Actions</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row actions-row">
							<div class="twelve columns">
								<div class="icon-link updates"><a href="#">Updates</a></div>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.actions-row -->

						<div class="row title-row">
							<div class="twelve columns">
								<h3>Content Title</h3>
							</div>	<!-- /.twelve.columns -->
						</div>	<!-- /.row.title-row -->
					</div>	<!-- /.programstack.landing.cf -->
				</div>	<!-- /.three.columns -->
			</div>	<!-- /#cardscontainer -->
		</div>	<!-- /.row.contentrow -->
	</div>	<!-- /.stackstateview -->

	<div class="stackstateview" id="StackProgramsView">
		<div class="row title-row">
			<div class="four columns container-title">
				<h1>Stack 1 Title</h1>
				<p class="opportunity-count">8 of 16 Learning Opportunities Showing</p>
			</div>	<!-- /.four.columns.viewcontainer -->

			<div class="eight columns container-actions">
				<h2>Progress</h2>
				<div class="profilemeter">
					<div class="welcomeprofile">
						<div id="profilepercent" style="width:54%">54%</div>
					</div>	<!-- /.welcomeprofile -->
				</div>	<!-- /.profilemeter -->
			</div>	<!-- /.viewcontainer -->
		</div>	<!-- /.row.title-row -->

		<div class="row content-row">
			<div id="cardscontainer">
				<div class="three columns" id="programcolumn1">
		        </div>
		        <div class="three columns" id="programcolumn2">
		        </div>
		        <div class="three columns" id="programcolumn3">
		        </div>
		        <div class="three columns" id="programcolumn4">
		        </div>
			</div>	<!-- /#cardscontainer -->
		</div>	<!-- /.row.contentrow -->
	</div>

	<div class="row footerrow">
		<div class="twelve columns">
			footer row
		</div>	<!-- /.twelve.columns -->
	</div>	<!-- /.row.footerrow -->

	<div id="program1" class="reveal-modal program-modal">
		<div class="row">
			<div class="eight columns">
				<h2>Program Name Can Wrap to Two Lines if Need Lorem Ipsum</h2>

				<p><a 
					href="#"><img src="images/icon-rating-star-unselected.png" alt=""/></a><a 
					href="#"><img src="images/icon-rating-star-unselected.png" alt=""/></a><a 
					href="#"><img src="images/icon-rating-star-unselected.png" alt=""/></a><a 
					href="#"><img src="images/icon-rating-star-unselected.png" alt=""/></a><a 
					href="#"><img src="images/icon-rating-star-unselected.png" alt=""/></a><a 
					href="#">Rate this program &gt;</a></p>

				<h4><strong>Status:</strong> Recommended</h4>
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis justo ac turpis ornare blandit. Pellentesque convallis a elit vel luctus. Cras non tellus sed arcu lacinia vestibulum quis...</p>

				<button class="action">Action Button</button>

				<div class="row container-prog-details">
					<div class="eight columns">
						<h5>Program Details</h5>
						<ul class="no-bullets">
							<li><span class="label">Type:</span> Accumenis asimintis</li>
							<li><span class="label">Location:</span> Accumenis asimintis</li>
							<li><span class="label">Skill:</span> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis justo ac turpis ornare blandit. Pellentesque convallis a elit vel luctus.</li>
						</ul>	<!-- /.no-bullets -->
					</div>	<!-- /.eight.columns -->
				</div>	<!-- /.row -->
			</div>	<!-- /.eight.columns -->

			<div class="four columns container-related-content">
				<h5>Related Content</h5>

				<div class="item">
					<h6>Content 1</h6>
					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis justo ac...</p>
					<p class="more-details"><a href="#">More Details &gt;</a></p>
				</div>	<!-- /.item -->

				<div class="item">
					<h6>Content 2</h6>
					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis justo ac...</p>
					<p class="more-details"><a href="#">More Details &gt;</a></p>
				</div>	<!-- /.item -->

				<div class="item">
					<h6>Content 3</h6>
					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis justo ac...</p>
					<p class="more-details"><a href="#">More Details &gt;</a></p>
				</div>	<!-- /.item -->

				<div class="item">
					<h6>Content 4</h6>
					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque facilisis justo ac...</p>
					<p class="more-details"><a href="#">More Details &gt;</a></p>
				</div>	<!-- /.item -->

				<button>Load More</button>
			</div>	<!-- /.four.columns -->
		</div>	<!-- /.row -->

		<a class="close-reveal-modal">x</a>
	</div>	<!-- /#program1.reveal-modal.program-modal -->

	<div id="results" class="reveal-modal search-results-modal">
		<div class="container-results-header">
			<div class="results-count"><span id="">434</span> Results</div>

			<div class="results-filter"><a href="#">Filter Results</a></div>

			<div class="searchcontainer">
				<input type="text" placeholder="search">
			</div>	<!-- /.searchcontainer -->
		</div>	<!-- /.container-results-action -->

		<div class="container-results">
			<div class="item">
				
			</div>	`<!-- /.item -->
		</div>	<!-- /.container-results -->

		<a class="close-reveal-modal">x</a>
	</div>	<!-- /#program1.reveal-modal.program-modal -->

	<!-- Included JS Files (Uncompressed) -->
	<!--
	<script src="javascripts/jquery.js"></script>
	<script src="javascripts/jquery.foundation.mediaQueryToggle.js"></script>
	<script src="javascripts/jquery.foundation.forms.js"></script>
	<script src="javascripts/jquery.event.move.js"></script>
	<script src="javascripts/jquery.event.swipe.js"></script>
	<script src="javascripts/jquery.foundation.reveal.js"></script>
	<script src="javascripts/jquery.foundation.orbit.js"></script>
	<script src="javascripts/jquery.foundation.navigation.js"></script>
	<script src="javascripts/jquery.foundation.tabs.js"></script>
	<script src="javascripts/jquery.foundation.topbar.js"></script>
	<script src="javascripts/jquery.foundation.joyride.js"></script>
	<script src="javascripts/jquery.foundation.clearing.js"></script>
	<script src="javascripts/jquery.foundation.magellan.js"></script>
	-->
  
	<!-- Included JS Files (Compressed) -->
	<script src="javascripts/foundation.min.js"></script>
	<script src="javascripts/jquery-1.9.1.js"></script>
	<script src="javascripts/jquery-ui-1.10.3.custom.js"></script>

	<!-- Initialize JS Plugins -->
	<script src="javascripts/iqapi.js"></script>
  
	<script src="javascripts/app.js"></script>
  
	<script>
		$(window).load(function(){
			//
			ShowStackView('AllStacksView');
			//
			$('#cardscontainer').hide();
			// download stacks for the page
			IQ_GetTags("nStack",function(json){
				var tags = json.tags;
				$('#cardscontainer').html('');
				var rounder = 0;
				for (var i = 0;i<tags.length;i++){
					rounder++;
					var currStackName = tags[i].tag;
					var itemHTML = '';
					//
					itemHTML += '<div class="three columns">';
						itemHTML += '<div class="programstack landing cf" onclick="showStackProgramsForStack(\''+currStackName+'\')">';
							itemHTML += '<div class="alert"></div>';
							itemHTML += '<div class="row actions-row">';
								itemHTML += '<div class="twelve columns">';
									itemHTML += '<div class="icon-link num-content"><a href="#"># of Content</a></div>';
								itemHTML += '</div>	<!-- /.twelve.columns -->';
							itemHTML += '</div>	<!-- /.row.actions-row -->';

							itemHTML += '<div class="row actions-row">';
								itemHTML += '<div class="twelve columns">';
									itemHTML += '<div class="icon-link created"><a href="#">Created</a></div>';
								itemHTML += '</div>	<!-- /.twelve.columns -->';
							itemHTML += '</div>	<!-- /.row.actions-row -->';

							itemHTML += '<div class="row actions-row">';
								itemHTML += '<div class="twelve columns">';
									itemHTML += '<div class="icon-link upcoming"><a href="#">Upcoming Actions</a></div>';
								itemHTML += '</div>	<!-- /.twelve.columns -->';
							itemHTML += '</div>	<!-- /.row.actions-row -->';

							itemHTML += '<div class="row actions-row">';
								itemHTML += '<div class="twelve columns">';
									itemHTML += '<div class="icon-link updates"><a href="#">Updates</a></div>';
								itemHTML += '</div>	<!-- /.twelve.columns -->';
							itemHTML += '</div>	<!-- /.row.actions-row -->';

							itemHTML += '<div class="row title-row">';
								itemHTML += '<div class="twelve columns">';
									itemHTML += '<h3>'+currStackName+'</h3>';
								itemHTML += '</div>	<!-- /.twelve.columns -->';
							itemHTML += '</div>	<!-- /.row.title-row -->';
						itemHTML += '</div>	<!-- /.programstack.landing.cf -->';
					itemHTML += '</div>	<!-- /.three.columns -->';
					//
					$('#cardscontainer').append(itemHTML)
				}
				for (var r = 0;r<(4-rounder%4);r++){
					$('#cardscontainer').append('<div class="three columns"></div>')
				}
				$('#cardscontainer').fadeIn(450);
			});
		});
		

		function showStackProgramsForStack(stackName){
			// populate stack programs here and then show the div.
			IQ_GetContentForTagAndType('nStack', stackName, function(json){
				var content_arr = json.iqmatches;
				//
				var dispColumnIndex = 1; // cycles through 1-4 for every addition
				//
				for (var i = 0; i < content_arr.length; i++){
					var currContent = content_arr[i];
					//
					// now we must drop details
		            var itemHTML = '';
		            itemHTML += '<div class="programstack cf">';
		            itemHTML += ' <div class="alert"></div>';

		            itemHTML += ' <div class="row title-row">';
		            itemHTML += '   <div class="twelve columns">';
		            itemHTML += '     <h2>'+currContent.contenttitle+'</h2>';
		            itemHTML += '   </div>  <!-- /.twelve.columns -->';
		            itemHTML += ' </div>  <!-- /.row.title-row -->';

		            itemHTML += ' <div class="row content-row">';
		            itemHTML += '   <div class="twelve columns">';
		            itemHTML += '     <p>'+("Validated Description From The Details Json Goes Here Validated Description From The Details Json Goes Here Validated Description From The Details Json Goes Here Validated Description From The Details Json Goes Here Validated Description From The Details Json Goes Here Validated Description From The Details Json Goes Here Validated Description From The Details Json Goes Here Validated Description From The Details Json Goes Here ").substring(0,30+Math.round(Math.random()*400))+'</p>';
		            itemHTML += '   </div>  <!-- /.twelve.columns -->';
		            itemHTML += ' </div>  <!-- /.row.content-row -->';

		            itemHTML += ' <div class="row actions-row">';
		            
		            itemHTML += '   <div class="six columns">';
		            itemHTML += '     <div class="icon-link num-content"><a href="#">Lorem ips descript</a></div>';
		            itemHTML += '   </div>  <!-- /.six.columns -->';

		            itemHTML += '   <div class="six columns">';
		            itemHTML += '     <div class="icon-link updates"><a href="#">Lorem ips descript</a></div>';
		            itemHTML += '   </div>  <!-- /.six.columns -->';
		            
		            itemHTML += ' </div>  <!-- /.row.actions-row -->';

		            itemHTML += ' <div class="row more-details-row">';
		            itemHTML += '   <div class="twelve columns">';
		            itemHTML += '     <p><a onclick="alert(\'get program details popup for contentid = '+currContent.contentid+'\')">More Details &gt;</a></p>';
		            itemHTML += '   </div>  <!-- /.twelve.columns -->';
		            itemHTML += ' </div>  <!-- /.row.more-details-row -->';
		            itemHTML += '</div>  <!-- /.programstack.cf -->';
		            //

		            //
		            $('#programcolumn'+dispColumnIndex).append(itemHTML);
		            //
		            dispColumnIndex++;
		            if (dispColumnIndex>4){
		              dispColumnIndex = 1;
		            }
					//
				}
			});
			ShowStackView("StackProgramsView");
		}


		function ShowStackView(stackdiv){
			$('.stackstateview').hide();
			$('#'+stackdiv).fadeIn('fast');
		}

	</script>

</body>
</html>
